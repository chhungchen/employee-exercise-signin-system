# Render.com 環境變數設定範本
# 請複製以下內容到您的 Render.com Dashboard
# 並填入您的實際 Google OAuth 憑證

# ===== 系統基本設定 =====
NODE_ENV=production
PORT=3000

# ===== Google 服務整合設定 =====
USE_GOOGLE_SERVICES=true
USE_PERSONAL_GOOGLE=true

# === 個人 Google 帳戶設定 ===
GOOGLE_CLIENT_ID=您的Google用戶端ID.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=您的Google用戶端密鑰
GOOGLE_REDIRECT_URI=https://employee-exercise-signin-system.onrender.com/auth/google/callback

# === 系統自動設定的 Token（請保持空白）===
GOOGLE_ACCESS_TOKEN=
GOOGLE_REFRESH_TOKEN=
GOOGLE_TOKEN_SCOPE=https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/drive.file

# === Google 資源 ID（系統自動設定，請保持空白）===
GOOGLE_SPREADSHEET_ID=
GOOGLE_DRIVE_FOLDER_ID=

# ===== 安全設定 =====
DEFAULT_ADMIN_PASSWORD=請設定您的安全密碼
JWT_SECRET=your-super-secure-secret-key-here

# ===== 檔案上傳設定 =====
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif

# ===== CORS 設定 =====
CORS_ORIGIN=https://employee-exercise-signin-system.onrender.com

# ===== 速率限制設定 =====
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===== 郵件服務設定（Render 平台優化 - 2025 最新版）=====
# 🎯 Render 平台建議使用 HTTP API 郵件服務，避免 SMTP 端口封鎖問題
# 🔧 修復 403 錯誤：系統將自動使用已驗證的發件人地址

EMAIL_FROM=noreply@yourdomain.com

# 1️⃣ Resend HTTP API（首選 - 雲端友善）⭐
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
# 註冊：https://resend.com/
# 免費額度：3000 封/月
# 特色：現代化 API、優秀開發體驗、無需網域驗證即可使用
# 🚨 重要：API 金鑰必須以 "re_" 開頭
# 📧 系統將自動使用 onboarding@resend.dev 作為發件人（已驗證）

# 可選：如果您擁有已驗證的網域
# VERIFIED_SENDER_DOMAIN=yourdomain.com
# 說明：設定此項目後，系統將使用 noreply@yourdomain.com 作為發件人

# 2️⃣ Postmark HTTP API（高可靠性備援）
POSTMARK_API_KEY=your-postmark-server-token
# 註冊：https://postmarkapp.com/
# 特色：83.3% 收件匣到達率、交易郵件專業

# 3️⃣ Mailgun API（SMTP 備援選項）
MAILGUN_API_KEY=key-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
MAILGUN_DOMAIN=mg.yourdomain.com
# 註冊：https://mailgun.com/
# 免費額度：100 封/日
# 特色：成熟穩定、雲端相容

# ⚠️ Gmail SMTP（Render 平台完全不支援）
# 注意：Render 完全封鎖 SMTP 端口 (25, 587, 465)，Gmail SMTP 無法使用
# 以下配置僅供本地開發參考，在 Render 上會被忽略：
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=您的Gmail地址
# SMTP_PASS=您的Gmail應用程式密碼

# 🔍 診斷和測試端點（自動可用）
# GET /api/email/health-check - 郵件服務健康檢查
# GET /api/admin/resend-diagnostics - Resend API 詳細診斷
# POST /api/admin/test-email-delivery - 郵件投遞測試

# ===== 其他設定 =====
TZ=Asia/Taipei
LOCALE=zh-TW
DEBUG=false
LOG_LEVEL=info